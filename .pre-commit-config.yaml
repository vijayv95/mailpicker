repos:
  # 1. Standard Hooks for general file maintenance
  - repo: https://github.com/pre-commit/pre-commit-hooks
    rev: v6.0.0
    hooks:
      - id: end-of-file-fixer
      - id: trailing-whitespace

  # 2. Conventional Commits Enforcer
  - repo: https://github.com/octue/conventional-commits
    rev: 0.9.0
    hooks:
      - id: check-commit-message-is-conventional
        stages: [commit-msg]
        pass_filenames: false
        args:
          - --additional-commit-codes=ABC,DEF,GHI
          - --maximum-header-length=72
          - --valid-header-ending-pattern=[A-Za-z\d]
          - --maximum-body-line-length=72

  # # 3. Custom License Header Inserter
  # - repo: local
  #   hooks:
  #     - id: license-header
  #       name: Add License Header
  #       entry: python3 scripts/license_header.py
  #       language: python
  #       types: [c, c++, header]
  #       pass_filenames: false
  #       always_run: true

  # # 4. Secret scanner (detect API keys, OAuth secrets, etc)
  # - repo: https://github.com/zricethezav/gitleaks
  #   rev: v8.30.0
  #   hooks:
  #     - id: gitleaks
  #       args: ["protect", "--staged"]

  # 5. Clang-format
  - repo: https://github.com/pre-commit/mirrors-clang-format
    rev: v21.1.7
    hooks:
      - id: clang-format

  # 6. Clang-tidy
  - repo: https://github.com/pocc/pre-commit-hooks
    rev: v1.3.5
    hooks:
      - id: clang-tidy
        args: ["-p=build"]
